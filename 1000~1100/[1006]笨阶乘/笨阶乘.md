![face.jpg](https://pic.leetcode-cn.com/5f44c38cfca16ba4f3886e1c9e298c5ab18a215dc25e965ec357a430e783b3af-face.jpg)

/*
    Sologala   @github    https://github.com/Sologala/LeetCode.git

   [1006]笨阶乘
     |     clumsy-factorial

*/

通常，正整数 n 的阶乘是所有小于或等于 n 的正整数的乘积。例如，factorial(10) = 10 * 9 * 8 * 7 * 6 * 5 * 4 * 3 * 2 * 1。

相反，我们设计了一个笨阶乘 clumsy：在整数的递减序列中，我们以一个固定顺序的操作符序列来依次替换原有的乘法操作符：乘法(*)，除法(/)，加法(+)和减法(-)。

例如，clumsy(10) = 10 * 9 / 8 + 7 - 6 * 5 / 4 + 3 - 2 * 1。然而，这些运算仍然使用通常的算术运算顺序：我们在任何加、减步骤之前执行所有的乘法和除法步骤，并且按从左到右处理乘法和除法步骤。

另外，我们使用的除法是地板除法（floor division），所以 10 * 9 / 8 等于 11。这保证结果是一个整数。

实现上面定义的笨函数：给定一个整数 N，它返回 N 的笨阶乘。

来源：力扣（LeetCode）
链接：https://leetcode-cn.com/problems/clumsy-factorial
著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。

## **Solution** 

```c
12 = 10 * 9 / 8 + 7 - 6 * 5 / 4 + 3 - 2 * 1
//	 |----首项-----| - |-----累加---| -|-特殊-| 
```

​     对于上面的式子 我们可以分为 首项 - 累加项 - 特殊项

##### 首项​	

$$
T(n)=\frac{n(n-1)}{n-2} + (n-3) = 2n-2
$$

##### 累加项

$$
f(n)=\frac{n(n-1)}{n-2} - (n-3)
$$

$$
f(n)=\frac{n(n+2) + n}{n-2} - (n-3)
$$

$$
f(n)=n + \frac{n-2 + 2}{n-2} - (n-3)
$$

$$
f(n)=\frac{2}{n-2}+4
$$

​	因为这里的除法只有在 `n==4` 的时候会出现 `f(n) == 5` 的情况，因此我们把 `n == 4` 考虑成为特殊项，其他时候除法都会因为**取整** 而等于`0`. 因此我们累加项 里面就只有一个值 `4` 也就是如下

```c
int cal(int N){
    return (N%4 == 0) ? (N-1)/4 * 4  : N/4 * 4;
} 
```

​	这里舍弃了最后一项。

##### 特殊项

​	特殊项我直接设置为数组来存储，因为就只有`4`个值，分别是

```c
int res1[4] = {5,1,2,6};
```

但是还没有考虑如果最开始这个`N <= 4` 的时候， 我也设置了一个数组来存储

```c
int res[5] ={0,1,2,6,7};
```

### **ac_code**

```c
class Solution {
public:
    int res[5] ={0,1,2,6,7};
    int res1[4] = {5,1,2,6};
    int cal(int N){
        return (N%4 == 0) ? (N-1)/4 * 4  : N/4 * 4;
    } 
    int clumsy(int N) {
        if(N<=4) return res[N];
        int b = cal(N-4);//计算中间的累加项
        return  2*N-2 - res1[N%4] - b; 
    }
};
```